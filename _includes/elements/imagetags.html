{% comment %}
Title: Image Tags Element
Description: Displays floating tags around images with various layout options and parallax scrolling effects.
Page Usages: Used in image-quote-text sections and other image-heavy content areas
Parameters:
- include.tags: Array of tag objects to display
  - tag.text: Text content for the tag
  - tag.color: Background color class for the tag
  - tag.svg: Optional SVG icon name from site.data.svgs
  - tag.svg_color: Optional color class for the SVG icon
- include.layout: Layout type for tag positioning
  - "quote-2tags": Two tags positioned for quote-style images
  - "quote-2tags-alt": Alternative positioning for two tags
  - "quote-2tags-bottom": Two tags positioned at bottom
  - "quote-4tags": Four tags positioned for quote-style images
  - "quote-4tags-alt": Alternative positioning for four tags
  - "square-1tag-top": Single tag at top for square images
  - "square-2tags-bottom": Two tags at bottom for square images
  - "square-2tags": Two tags for square images
- include.bg: Background color class for tag borders (optional)
{% endcomment %}

{% if include.tags %}
<div class="absolute inset-0 pointer-events-none">
  {% for tag in include.tags %}
    {% assign tag_class = "" %}
    
    {% assign layout_type = include.layout | default: "quote-2tags" %}
    
    {% case layout_type %}
      {% when "quote-2tags" %}
        {% if forloop.index == 1 %}
          {% assign tag_class = "-right-4 md:-right-12 bottom-1/4 md:bottom-2/3" %}
        {% elsif forloop.index == 2 %}
          {% assign tag_class = "-left-4 md:-left-12 top-[45%]" %}
        {% endif %}


      {% when "quote-2tags-alt" %}
        {% if forloop.index == 1 %}
          {% assign tag_class = "left-0 md:-left-12 top-1/4" %}
        {% elsif forloop.index == 2 %}
          {% assign tag_class = "right-0 md:-right-12 bottom-1/4" %}
        {% endif %}

      {% when "quote-2tags-bottom" %}
        {% if forloop.index == 1 %}
          {% assign tag_class = "left-4 bottom-1/4" %}
        {% elsif forloop.index == 2 %}
          {% assign tag_class = "right-4 bottom-12" %}
        {% endif %}

      {% when "quote-4tags" %}
        {% if forloop.index == 1 %}
          {% assign tag_class = "-left-2 md:-left-12 top-1/4" %}
        {% elsif forloop.index == 2 %}
          {% assign tag_class = "-right-6 md:-right-12 top-4 md:top-1/4 translate-y-5" %}
        {% elsif forloop.index == 3 %}
          {% assign tag_class = "-left-4 md:-left-20 bottom-6 md:bottom-1/4" %}
        {% elsif forloop.index == 4 %}
          {% assign tag_class = "-right-3 md:-right-4 bottom-1/4 translate-y-10" %}
        {% endif %}

      {% when "quote-4tags-alt" %}
        {% if forloop.index == 1 %}
          {% assign tag_class = "left-4 top-4" %}
        {% elsif forloop.index == 2 %}
          {% assign tag_class = "-right-4 top-4" %}
        {% elsif forloop.index == 3 %}
          {% assign tag_class = "left-4 bottom-4" %}
        {% elsif forloop.index == 4 %}
          {% assign tag_class = "-right-4 bottom-4" %}
        {% endif %}

      {% when "square-1tag-top" %}
        {% if forloop.index == 1 %}
          {% assign tag_class = "-right-4 top-0" %}
        {% endif %}

      {% when "square-2tags-bottom" %}
        {% if forloop.index == 1 %}
          {% assign tag_class = "-left-4 md:-left-12 top-1/4" %}
        {% elsif forloop.index == 2 %}
          {% assign tag_class = "-right-3 bottom-0" %}
      {% endif %}

      {% when "square-2tags" %}
        {% if forloop.index == 1 %}
          {% assign tag_class = "-left-4 md:-left-12 top-1/4" %}
        {% elsif forloop.index == 2 %}
          {% assign tag_class = "-right-3 md:-right-12 bottom-1/4" %}
      {% endif %}

      {% when "square-2tags-alt" %}
        {% if forloop.index == 1 %}
          {% assign tag_class = "-left-4 md:-left-12 bottom-2" %}
        {% elsif forloop.index == 2 %}
          {% assign tag_class = "-right-3 md:-right-12 bottom-1/4" %}
      {% endif %}

    {% endcase %}

    <div class="flex items-center text-sm md:text-xl w-fit absolute {{ tag_class }}"
    data-scroll
    data-scroll-speed="{{ forloop.index0 | minus: 0.4 | times: 0.05 }}">
        <span class="px-4 py-2 rounded-full border-12 {% if include.bg %}border-{{include.bg}} {% else %} border-white {% endif %} {{ tag.color }} 
        {% if forloop.index == 1 or forloop.index == 4 %}
            is-animated
        {% else %}
            is-animated-reverse
        {% endif %}">
        {% if tag.svg %}
            <span class="w-5 h-5 {% unless tag.svg == 'franken' %}mr-2{% endunless %} inline-block align-middle {% if tag.svg_color %}{{ tag.svg_color }}{% endif %}">
                {{ site.data.svgs[tag.svg] }}
            </span>
        {% endif %}
        <span>{{ tag.text }}</span>
    </span>
    </div>
  {% endfor %}
</div>
{% endif %}